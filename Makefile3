CC = g++
CFLAGS = -std=c++11

assignment1: main.o StudentRecord.o DataBase.o ./tokenlib/libtokenlib.so
	$(CC) main.o StudentRecord.o DataBase.o -o assignment1 -L./tokenlib -ltokenlib -lboost_program_options -Wl,-rpath=./tokenlib $(CFLAGS)   

main.o: main.cpp
	$(CC) main.cpp -c $(CFLAGS)

StudentRecord.o: StudentRecord.cpp StudentRecord.h counter.h
	$(CC) StudentRecord.cpp -c $(CFLAGS)

Databse.o: DataBase.cpp DataBase.h
	$(CC) DataBase.cpp -c $(CFLAGS)

./tokenlib/libtokenlib.so: ./tokenlib/tokenlib.cpp
	$(CC) -shared ./tokenlib/tokenlib.cpp -o ./tokenlib/libtokenlib.so -std=c++11 -fPIC

cmdline_parser.o: cmdline_parser.cpp cmdline_parser.h
	
	$(CC) cmdline_parser.cpp -c $(CFLAGS)
clean:
	@rm -f *.o
	@rm -f *.so
